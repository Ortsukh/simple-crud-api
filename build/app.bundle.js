(()=>{var e={925:(e,n,t)=>{const o=t(229),{validationTypeAtr:r,isUUID:i}=t(422),{getPostData:s}=t(288);e.exports={getAllPerson:async function(e,n){try{const e=await o.findAll();n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify(e))}catch(e){n.writeHead(500,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:e}))}},getPerson:async function(e,n,t){try{const e=await o.findById(t);i(t)?e?(n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify(e))):(n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Person Not Found"}))):(n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Invalid ID"})))}catch(e){n.writeHead(500,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:e}))}},createPerson:async function(e,n){try{const t=await s(e);console.log(t);const{name:i,description:a,age:c,hobbies:l}=JSON.parse(t);if(!(i&&a&&c&&l))return n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Wrong body"}));if(!r(t))return n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Wrong body type"}));const p={name:i,description:a,age:c,hobbies:l},d=await o.create(p);return n.writeHead(201,{"Content-Type":"application/json"}),n.end(JSON.stringify(d))}catch(e){n.writeHead(500,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:e}))}},updatePerson:async function(e,n,t){try{const r=await o.findById(t);if(console.log(15),console.log(r),i(t)){if(r){const i=await s(e),{name:a,description:c,age:l,hobbies:p}=JSON.parse(i),d={name:a||r.name,description:c||r.description,age:l||r.age,hobbies:p||r.hobbies},u=await o.update(t,d);return n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify(u))}n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Person Not Found"}))}else n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Invalid ID"}))}catch(e){n.writeHead(500,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:e}))}},deletePerson:async function(e,n,t){try{const e=await o.findById(t);i(t)?e?(await o.remove(t),n.writeHead(200,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:`Person ${t} removed`}))):(n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Person Not Found"}))):(n.writeHead(400,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Invalid ID"})))}catch(e){n.writeHead(500,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:e}))}}}},528:e=>{e.exports=[]},229:(e,n,t)=>{let o=t(528);const{v4:r}=t(21),{writeDataToFile:i}=t(288);e.exports={findAll:function(){return console.log(o),console.log(12),new Promise(((e,n)=>{e(o)}))},findById:function(e){return new Promise(((n,t)=>{console.log(e),console.log(16),console.log(o),n(o.find((n=>n.id===e)))}))},create:function(e){return new Promise(((n,t)=>{const o={id:r(),...e};i(o),n(o)}))},update:function(e,n){return new Promise(((t,r)=>{console.log(e),console.log(13),console.log(o);const i=o.findIndex((n=>n.id===e));o[i]={id:e,...n},t(o[i])}))},remove:function(e){return new Promise(((n,t)=>{o=o.filter((n=>n.id!==e)),n()}))}}},738:(e,n,t)=>{const o=t(147),r=t(17),i=t(37);function s(e){console.log(`[dotenv][DEBUG] ${e}`)}const a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g,l=/\r\n|\n|\r/;function p(e,n){const t=Boolean(n&&n.debug),o={};return e.toString().split(l).forEach((function(e,n){const r=e.match(a);if(null!=r){const e=r[1];let n=r[2]||"";const t=n.length-1,i='"'===n[0]&&'"'===n[t];"'"===n[0]&&"'"===n[t]||i?(n=n.substring(1,t),i&&(n=n.replace(c,"\n"))):n=n.trim(),o[e]=n}else t&&s(`did not match key and value when parsing line ${n+1}: ${e}`)})),o}e.exports.config=function(e){let n=r.resolve(process.cwd(),".env"),t="utf8",a=!1;var c;e&&(null!=e.path&&(n="~"===(c=e.path)[0]?r.join(i.homedir(),c.slice(1)):c),null!=e.encoding&&(t=e.encoding),null!=e.debug&&(a=!0));try{const e=p(o.readFileSync(n,{encoding:t}),{debug:a});return Object.keys(e).forEach((function(n){Object.prototype.hasOwnProperty.call(process.env,n)?a&&s(`"${n}" is already defined in \`process.env\` and will not be overwritten`):process.env[n]=e[n]})),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=p},21:(e,n,t)=>{"use strict";t.r(n),t.d(n,{NIL:()=>T,parse:()=>w,stringify:()=>d,v1:()=>m,v3:()=>v,v4:()=>b,v5:()=>S,validate:()=>l,version:()=>O});const o=require("crypto");var r=t.n(o);const i=new Uint8Array(256);let s=i.length;function a(){return s>i.length-16&&(r().randomFillSync(i),s=0),i.slice(s,s+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&c.test(e)},p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).substr(1));const d=function(e,n=0){const t=(p[e[n+0]]+p[e[n+1]]+p[e[n+2]]+p[e[n+3]]+"-"+p[e[n+4]]+p[e[n+5]]+"-"+p[e[n+6]]+p[e[n+7]]+"-"+p[e[n+8]]+p[e[n+9]]+"-"+p[e[n+10]]+p[e[n+11]]+p[e[n+12]]+p[e[n+13]]+p[e[n+14]]+p[e[n+15]]).toLowerCase();if(!l(t))throw TypeError("Stringified UUID is invalid");return t};let u,f,g=0,y=0;const m=function(e,n,t){let o=n&&t||0;const r=n||new Array(16);let i=(e=e||{}).node||u,s=void 0!==e.clockseq?e.clockseq:f;if(null==i||null==s){const n=e.random||(e.rng||a)();null==i&&(i=u=[1|n[0],n[1],n[2],n[3],n[4],n[5]]),null==s&&(s=f=16383&(n[6]<<8|n[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:y+1;const p=c-g+(l-y)/1e4;if(p<0&&void 0===e.clockseq&&(s=s+1&16383),(p<0||c>g)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=c,y=l,f=s,c+=122192928e5;const m=(1e4*(268435455&c)+l)%4294967296;r[o++]=m>>>24&255,r[o++]=m>>>16&255,r[o++]=m>>>8&255,r[o++]=255&m;const w=c/4294967296*1e4&268435455;r[o++]=w>>>8&255,r[o++]=255&w,r[o++]=w>>>24&15|16,r[o++]=w>>>16&255,r[o++]=s>>>8|128,r[o++]=255&s;for(let e=0;e<6;++e)r[o+e]=i[e];return n||d(r)},w=function(e){if(!l(e))throw TypeError("Invalid UUID");let n;const t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t};function h(e,n,t){function o(e,o,r,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}(e)),"string"==typeof o&&(o=w(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(o),s.set(e,o.length),s=t(s),s[6]=15&s[6]|n,s[8]=63&s[8]|128,r){i=i||0;for(let e=0;e<16;++e)r[i+e]=s[e];return r}return d(s)}try{o.name=e}catch(e){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o}const v=h("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("md5").update(e).digest()})),b=function(e,n,t){const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){t=t||0;for(let e=0;e<16;++e)n[t+e]=o[e];return n}return d(o)},S=h("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("sha1").update(e).digest()})),T="00000000-0000-0000-0000-000000000000",O=function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},620:(e,n,t)=>{const o=t(685),r=t(738),i=t(17),{getAllPerson:s,getPerson:a,createPerson:c,updatePerson:l,deletePerson:p}=t(925);r.config({path:i.join(__dirname,"./.env")});const d=o.createServer(((e,n)=>{if("/person"===e.url&&"GET"===e.method)s(e,n);else if(e.url.match(/\/person\/\w+/)&&"GET"===e.method){const t=e.url.split("/")[2];a(e,n,t)}else if("/person"===e.url&&"POST"===e.method)c(e,n);else if(e.url.match(/\/person\/\w+/)&&"PUT"===e.method){const t=e.url.split("/")[2];l(e,n,t)}else if(e.url.match(/\/person\/\w+/)&&"DELETE"===e.method){const t=e.url.split("/")[2];p(e,n,t)}else n.writeHead(404,{"Content-Type":"application/json"}),n.end(JSON.stringify({message:"Route Not Found"}))})),u=process.env.PORT||5e3;d.listen(u,(()=>console.log(`Server running on port ${u}`))),e.exports=d},288:(e,n,t)=>{const o=t(528);e.exports={writeDataToFile:function(e){o.push(e)},getPostData:function(e){return new Promise(((n,t)=>{try{let t="";e.on("data",(e=>{t+=e.toString()})),e.on("end",(()=>{n(t)}))}catch(e){t(err)}}))}}},422:e=>{e.exports={validationTypeAtr:function(e){const{name:n,description:t,age:o,hobbies:r}=JSON.parse(e);return!("string"!=typeof n||"string"!=typeof t||"number"!=typeof o||!Array.isArray(r))},isUUID:function(e){let n=""+e;return n=n.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),null!==n}}},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(620)})();